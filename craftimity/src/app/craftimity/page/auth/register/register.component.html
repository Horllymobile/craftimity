<ion-content>
  <section class="container mb-8">
    <ion-img src="assets/svg/craftimity-blue.svg" class="w-16 mx-auto my-20"></ion-img>
    <section class="border border-[#12427A] w-[90%] rounded-2xl mx-auto">
      <div class="p-8 border-b border-[#12427A]">
        <h1 class="text-[#12427A] text-center">Sign Up</h1>
      </div>

      <div class="p-8">
        <div>
          <ng-container [ngTemplateOutlet]="email_form"></ng-container>
          <!-- <ng-container *ngSwitchCase="'phone'"></ng-container> -->
        </div>
      </div>
    </section>
  </section>
</ion-content>

<ng-template #email_form>
  <form [formGroup]="form" (ngSubmit)="register(formData)">
    <div class="w-full mt-5">
      <input placeholder="First Name" formControlName="first_name"
        class="w-full p-2 bg-white text-[#12427A] placeholder:text-[#12427A] border border-[#12427A] rounded-lg">

      <div *ngIf="formCtrl['first_name'].errors">
        <ion-text color="danger" *ngIf="formCtrl['first_name'].dirty && formCtrl['first_name'].hasError('required')">
          First name is required</ion-text>
        <ion-text color="danger" *ngIf="formCtrl['first_name'].dirty && formCtrl['first_name'].hasError('minlength')">
          Name is invalid</ion-text>
      </div>
    </div>

    <div class="w-full mt-5">
      <input placeholder="Last Name" formControlName="last_name"
        class="w-full p-2 bg-white text-[#12427A] placeholder:text-[#12427A] border border-[#12427A] rounded-lg">
      <div *ngIf="formCtrl['last_name'].errors">
        <ion-text color="danger" *ngIf="formCtrl['last_name'].dirty && formCtrl['last_name'].hasError('required')">
          Last name is required</ion-text>
        <ion-text color="danger" *ngIf="formCtrl['last_name'].dirty && formCtrl['last_name'].hasError('minlength')">
          Name is invalid</ion-text>
      </div>
    </div>


    <div class="w-full mt-5">
      <input placeholder="Email" formControlName="email"
        class="w-full p-2 bg-white text-[#12427A] placeholder:text-[#12427A] border border-[#12427A] rounded-lg">
      <div *ngIf="formCtrl['email'].errors">
        <ion-text color="danger" *ngIf="formCtrl['email'].dirty && formCtrl['email'].hasError('required')">
          Email address is required</ion-text>
        <ion-text color="danger" *ngIf="formCtrl['email'].dirty && formCtrl['email'].hasError('email')">
          Email address is invalid</ion-text>
      </div>
    </div>

    <div class="w-full my-5">
      <div class="relative mb-2">
        <input [type]="showPassword ? 'text' : 'password'" autocomplete="current-password" formControlName="password"
          class="w-full p-2 bg-white text-[#12427A] placeholder:text-[#12427A] border border-[#12427A] rounded-lg"
          label="Select Country" placeholder="Password">
        <span (click)="showPassword = !showPassword"
          class="text-sm text-[#12427A] mb-2 absolute top-3 right-3 cursor-pointer"
          [ngClass]="showPassword ? 'line-through' : 'underline'">Show</span>
      </div>
      <div *ngIf="formCtrl['password'].errors">
        <ion-text color="danger" *ngIf="formCtrl['password'].dirty && formCtrl['password'].hasError('required')">
          Password is required</ion-text>
      </div>
    </div>

    <div class="w-full flex gap-2 my-5">
      <ion-checkbox formControlName="accept"></ion-checkbox>
      <p class="text-xs mt-1">I agree to the <span class="text-[#12427A]">Terms and Conditions</span>. </p>
    </div>

    <ion-button expand="block" [disabled]="!isFormValid(form)" type="submit"
      class="button-custom mt-5">Register</ion-button>

    <p class="text-[#12427A] text-center">Already have an account? <span class="underline"
        routerLink="/craftimity/page/auth/login">Login</span></p>

    <p class="text-[#12427A] underline text-center" routerLink="/select-app">Select App</p>
  </form>
</ng-template>